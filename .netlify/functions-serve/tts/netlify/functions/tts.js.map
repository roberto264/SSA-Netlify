{
  "version": 3,
  "sources": ["../../../../../../../Users/robertoreho/Documents/GitHub/SSA-Netlify/netlify/functions/tts.js"],
  "sourceRoot": "/private/var/folders/6p/tnq3q_k96lx9v_thbxh_812w0000gn/T/tmp-52505-cowtgZ75Kr65",
  "sourcesContent": ["exports.handler = async (event) => {\n  if (event.httpMethod !== 'POST') {\n    return { statusCode: 405, body: 'Method Not Allowed' };\n  }\n\n  const OPENAI_API_KEY = process.env.OPENAI_API_KEY;\n  \n  if (!OPENAI_API_KEY) {\n    return { statusCode: 500, body: JSON.stringify({ error: 'API Key not configured' }) };\n  }\n\n  try {\n    const { text, voice } = JSON.parse(event.body);\n\n    const response = await fetch('https://api.openai.com/v1/audio/speech', {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${OPENAI_API_KEY}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        model: 'tts-1',\n        voice: voice || 'onyx',\n        input: text\n      })\n    });\n\n    const arrayBuffer = await response.arrayBuffer();\n    const base64 = Buffer.from(arrayBuffer).toString('base64');\n    \n    return {\n      statusCode: 200,\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ audio: base64 })\n    };\n  } catch (error) {\n    return {\n      statusCode: 500,\n      body: JSON.stringify({ error: error.message })\n    };\n  }\n};\n"],
  "mappings": ";AAAA,QAAQ,UAAU,OAAO,UAAU;AACjC,MAAI,MAAM,eAAe,QAAQ;AAC/B,WAAO,EAAE,YAAY,KAAK,MAAM,qBAAqB;AAAA,EACvD;AAEA,QAAM,iBAAiB,QAAQ,IAAI;AAEnC,MAAI,CAAC,gBAAgB;AACnB,WAAO,EAAE,YAAY,KAAK,MAAM,KAAK,UAAU,EAAE,OAAO,yBAAyB,CAAC,EAAE;AAAA,EACtF;AAEA,MAAI;AACF,UAAM,EAAE,MAAM,MAAM,IAAI,KAAK,MAAM,MAAM,IAAI;AAE7C,UAAM,WAAW,MAAM,MAAM,0CAA0C;AAAA,MACrE,QAAQ;AAAA,MACR,SAAS;AAAA,QACP,iBAAiB,UAAU,cAAc;AAAA,QACzC,gBAAgB;AAAA,MAClB;AAAA,MACA,MAAM,KAAK,UAAU;AAAA,QACnB,OAAO;AAAA,QACP,OAAO,SAAS;AAAA,QAChB,OAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AAED,UAAM,cAAc,MAAM,SAAS,YAAY;AAC/C,UAAM,SAAS,OAAO,KAAK,WAAW,EAAE,SAAS,QAAQ;AAEzD,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,SAAS,EAAE,gBAAgB,mBAAmB;AAAA,MAC9C,MAAM,KAAK,UAAU,EAAE,OAAO,OAAO,CAAC;AAAA,IACxC;AAAA,EACF,SAAS,OAAO;AACd,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,MAAM,KAAK,UAAU,EAAE,OAAO,MAAM,QAAQ,CAAC;AAAA,IAC/C;AAAA,EACF;AACF;",
  "names": []
}
